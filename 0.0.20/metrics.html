
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cangyuanli.github.io/rapidstats/0.0.20/metrics.html">
      
      
        <link rel="prev" href="distributions.html">
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Metrics - rapidstats API Reference</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rapidstats._metrics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="rapidstats API Reference" class="md-header__button md-logo" aria-label="rapidstats API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            rapidstats API Reference
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Metrics
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/CangyuanLi/rapidstats" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="rapidstats API Reference" class="md-nav__button md-logo" aria-label="rapidstats API Reference" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    rapidstats API Reference
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/CangyuanLi/rapidstats" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="bootstrap.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootstrap
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="correlation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Correlation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="distributions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="metrics.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Metrics
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics" class="md-nav__link">
    <span class="md-ellipsis">
      _metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.ConfusionMatrix" class="md-nav__link">
    <span class="md-ellipsis">
      ConfusionMatrix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConfusionMatrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rapidstats._metrics.ConfusionMatrix.to_polars" class="md-nav__link">
    <span class="md-ellipsis">
      to_polars
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.adverse_impact_ratio" class="md-nav__link">
    <span class="md-ellipsis">
      adverse_impact_ratio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.brier_loss" class="md-nav__link">
    <span class="md-ellipsis">
      brier_loss
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.confusion_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      confusion_matrix
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.max_ks" class="md-nav__link">
    <span class="md-ellipsis">
      max_ks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.mean" class="md-nav__link">
    <span class="md-ellipsis">
      mean
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.mean_squared_error" class="md-nav__link">
    <span class="md-ellipsis">
      mean_squared_error
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.roc_auc" class="md-nav__link">
    <span class="md-ellipsis">
      roc_auc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.root_mean_squared_error" class="md-nav__link">
    <span class="md-ellipsis">
      root_mean_squared_error
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.threshold_for_bad_rate" class="md-nav__link">
    <span class="md-ellipsis">
      threshold_for_bad_rate
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics" class="md-nav__link">
    <span class="md-ellipsis">
      _metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.ConfusionMatrix" class="md-nav__link">
    <span class="md-ellipsis">
      ConfusionMatrix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConfusionMatrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rapidstats._metrics.ConfusionMatrix.to_polars" class="md-nav__link">
    <span class="md-ellipsis">
      to_polars
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.adverse_impact_ratio" class="md-nav__link">
    <span class="md-ellipsis">
      adverse_impact_ratio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.brier_loss" class="md-nav__link">
    <span class="md-ellipsis">
      brier_loss
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.confusion_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      confusion_matrix
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.max_ks" class="md-nav__link">
    <span class="md-ellipsis">
      max_ks
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.mean" class="md-nav__link">
    <span class="md-ellipsis">
      mean
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.mean_squared_error" class="md-nav__link">
    <span class="md-ellipsis">
      mean_squared_error
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.roc_auc" class="md-nav__link">
    <span class="md-ellipsis">
      roc_auc
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.root_mean_squared_error" class="md-nav__link">
    <span class="md-ellipsis">
      root_mean_squared_error
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rapidstats._metrics.threshold_for_bad_rate" class="md-nav__link">
    <span class="md-ellipsis">
      threshold_for_bad_rate
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Metrics</h1>

<div class="doc doc-object doc-module">



<a id="rapidstats._metrics"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="rapidstats._metrics.ConfusionMatrix" class="doc doc-heading">
          <code>ConfusionMatrix</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">

  
      <p>Result object returned by <code>rapidstats.confusion_matrix</code></p>



  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.tn">tn</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Count of True Negatives; y_true == False and y_pred == False</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.fp">fp</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↓Count of False Positives; y_true == False and y_pred == True</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.fn">fn</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↓Count of False Negatives; y_true == True and y_pred == False</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.tp">tp</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Count of True Positives; y_true == True, y_pred == True</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.tpr">tpr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑True Positive Rate, Recall, Sensitivity; Probability that an actual positive
will be predicted positive; <span class="arithmatex">\( \frac{TP}{TP + FN} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.fpr">fpr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↓False Positive Rate, Type I Error; Probability that an actual negative will
be predicted positive; <span class="arithmatex">\( \frac{FP}{FP + TN} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.fnr">fnr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↓False Negative Rate, Type II Error; Probability an actual positive will be
predicted negative; <span class="arithmatex">\( \frac{FN}{TP + FN} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.tnr">tnr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑True Negative Rate, Specificity; Probability an actual negative will be
predicted negative; <span class="arithmatex">\( \frac{TN}{FP + TN} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.prevalence">prevalence</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Prevalence; Proportion of positive classes; <span class="arithmatex">\( \frac{TP + FN}{TN + FP + FN + TP} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.prevalence_threshold">prevalence_threshold</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Prevalence Threshold; <span class="arithmatex">\( \frac{\sqrt{TPR \times FPR} - FPR}{TPR - FPR} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.informedness">informedness</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Informedness, Youden's J; <span class="arithmatex">\( TPR + TNR - 1 \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.precision">precision</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Precision, Positive Predicted Value (PPV); Probability a predicted positive was
actually correct; <span class="arithmatex">\( \frac{TP}{TP + FP} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.false_omission_rate">false_omission_rate</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↓False Omission Rate (FOR); Proportion of predicted negatives that were wrong
<span class="arithmatex">\( \frac{FN}{FN + TN} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.plr">plr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Positive Likelihood Ratio, LR+; <span class="arithmatex">\( \frac{TPR}{FPR} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.nlr">nlr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Negative Likelihood Ratio, LR-; <span class="arithmatex">\( \frac{FNR}{TNR} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.acc">acc</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Accuracy (ACC); Probability of a correct prediction; <span class="arithmatex">\( \frac{TP + TN}{TN + FP + FN + TP} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.balanced_accuracy">balanced_accuracy</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Balanced Accuracy (BA); <span class="arithmatex">\( \frac{TP + TN}{2} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.f1">f1</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑F1; Harmonic mean of Precision and Recall; <span class="arithmatex">\( \frac{2 \times PPV \times TPR}{PPV + TPR} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.folkes_mallows_index">folkes_mallows_index</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Folkes Mallows Index (FM); <span class="arithmatex">\( \sqrt{PPV \times TPR} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.mcc">mcc</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Matthew Correlation Coefficient (MCC), Yule Phi Coefficient; <span class="arithmatex">\( \sqrt{TPR \times TNR \times PPV \times NPV} - \sqrt{FNR \times FPR \times FOR \times FDR} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.threat_score">threat_score</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↑Threat Score (TS), Critical Success Index (CSI), Jaccard Index; <span class="arithmatex">\( \frac{TP}{TP + FN + FP} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.markedness">markedness</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Markedness (MP), deltaP; <span class="arithmatex">\( PPV + NPV - 1 \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.fdr">fdr</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>↓False Discovery Rate, Proportion of predicted positives that are wrong; <span class="arithmatex">\( \frac{FP}{TP + FP} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.↑npv">↑npv</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Negative Predictive Value; Proportion of predicted negatives that are correct; <span class="arithmatex">\( \frac{TN}{FN + TN} \)</span></p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code><span title="rapidstats._metrics.ConfusionMatrix.dor">dor</span></code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Diagnostic Odds Ratio; <span class="arithmatex">\( \frac{LR+}{LR-} \)</span></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclasses</span><span class="o">.</span><span class="n">dataclass</span>
<span class="k">class</span> <span class="nc">ConfusionMatrix</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Result object returned by `rapidstats.confusion_matrix`</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    tn : float</span>
<span class="sd">        ↑Count of True Negatives; y_true == False and y_pred == False</span>
<span class="sd">    fp : float</span>
<span class="sd">        ↓Count of False Positives; y_true == False and y_pred == True</span>
<span class="sd">    fn : float</span>
<span class="sd">        ↓Count of False Negatives; y_true == True and y_pred == False</span>
<span class="sd">    tp : float</span>
<span class="sd">        ↑Count of True Positives; y_true == True, y_pred == True</span>
<span class="sd">    tpr : float</span>
<span class="sd">        ↑True Positive Rate, Recall, Sensitivity; Probability that an actual positive</span>
<span class="sd">        will be predicted positive; \( \frac{TP}{TP + FN} \)</span>
<span class="sd">    fpr : float</span>
<span class="sd">        ↓False Positive Rate, Type I Error; Probability that an actual negative will</span>
<span class="sd">        be predicted positive; \( \frac{FP}{FP + TN} \)</span>
<span class="sd">    fnr : float</span>
<span class="sd">        ↓False Negative Rate, Type II Error; Probability an actual positive will be</span>
<span class="sd">        predicted negative; \( \frac{FN}{TP + FN} \)</span>
<span class="sd">    tnr : float</span>
<span class="sd">        ↑True Negative Rate, Specificity; Probability an actual negative will be</span>
<span class="sd">        predicted negative; \( \frac{TN}{FP + TN} \)</span>
<span class="sd">    prevalence : float</span>
<span class="sd">        Prevalence; Proportion of positive classes; \( \frac{TP + FN}{TN + FP + FN + TP} \)</span>
<span class="sd">    prevalence_threshold : float</span>
<span class="sd">        Prevalence Threshold; \( \frac{\sqrt{TPR \times FPR} - FPR}{TPR - FPR} \)</span>
<span class="sd">    informedness : float</span>
<span class="sd">        ↑Informedness, Youden&#39;s J; \( TPR + TNR - 1 \)</span>
<span class="sd">    precision : float</span>
<span class="sd">        ↑Precision, Positive Predicted Value (PPV); Probability a predicted positive was</span>
<span class="sd">        actually correct; \( \frac{TP}{TP + FP} \)</span>
<span class="sd">    false_omission_rate : float</span>
<span class="sd">        ↓False Omission Rate (FOR); Proportion of predicted negatives that were wrong</span>
<span class="sd">        \( \frac{FN}{FN + TN} \)</span>
<span class="sd">    plr : float</span>
<span class="sd">        ↑Positive Likelihood Ratio, LR+; \( \frac{TPR}{FPR} \)</span>
<span class="sd">    nlr : float</span>
<span class="sd">        Negative Likelihood Ratio, LR-; \( \frac{FNR}{TNR} \)</span>
<span class="sd">    acc : float</span>
<span class="sd">        ↑Accuracy (ACC); Probability of a correct prediction; \( \frac{TP + TN}{TN + FP + FN + TP} \)</span>
<span class="sd">    balanced_accuracy : float</span>
<span class="sd">        ↑Balanced Accuracy (BA); \( \frac{TP + TN}{2} \)</span>
<span class="sd">    f1 : float</span>
<span class="sd">        ↑F1; Harmonic mean of Precision and Recall; \( \frac{2 \times PPV \times TPR}{PPV + TPR} \)</span>
<span class="sd">    folkes_mallows_index : float</span>
<span class="sd">        ↑Folkes Mallows Index (FM); \( \sqrt{PPV \times TPR} \)</span>
<span class="sd">    mcc : float</span>
<span class="sd">        ↑Matthew Correlation Coefficient (MCC), Yule Phi Coefficient; \( \sqrt{TPR \times TNR \times PPV \times NPV} - \sqrt{FNR \times FPR \times FOR \times FDR} \)</span>
<span class="sd">    threat_score : float</span>
<span class="sd">        ↑Threat Score (TS), Critical Success Index (CSI), Jaccard Index; \( \frac{TP}{TP + FN + FP} \)</span>
<span class="sd">    markedness : float</span>
<span class="sd">        Markedness (MP), deltaP; \( PPV + NPV - 1 \)</span>
<span class="sd">    fdr : float</span>
<span class="sd">        ↓False Discovery Rate, Proportion of predicted positives that are wrong; \( \frac{FP}{TP + FP} \)</span>
<span class="sd">    ↑npv : float</span>
<span class="sd">        Negative Predictive Value; Proportion of predicted negatives that are correct; \( \frac{TN}{FN + TN} \)</span>
<span class="sd">    dor : float</span>
<span class="sd">        Diagnostic Odds Ratio; \( \frac{LR+}{LR-} \)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tn</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">fp</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">fn</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">tp</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">tpr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">fpr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">fnr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">tnr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">prevalence</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">prevalence_threshold</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">informedness</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">precision</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">false_omission_rate</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">plr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">nlr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">acc</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">balanced_accuracy</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">f1</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">folkes_mallows_index</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">mcc</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">threat_score</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">markedness</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">fdr</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">npv</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">dor</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span> <span class="nf">to_polars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the dataclass to a long Polars DataFrame with columns `metric` and</span>
<span class="sd">        `value`.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pl.DataFrame</span>
<span class="sd">            DataFrame with columns `metric` and `value`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dct</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>

        <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="n">dct</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">dct</span><span class="o">.</span><span class="n">values</span><span class="p">()})</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="rapidstats._metrics.ConfusionMatrix.to_polars" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">to_polars</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Convert the dataclass to a long Polars DataFrame with columns <code>metric</code> and
<code>value</code>.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="polars.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>DataFrame with columns <code>metric</code> and <code>value</code></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_polars</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert the dataclass to a long Polars DataFrame with columns `metric` and</span>
<span class="sd">    `value`.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pl.DataFrame</span>
<span class="sd">        DataFrame with columns `metric` and `value`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dct</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>

    <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="n">dct</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">dct</span><span class="o">.</span><span class="n">values</span><span class="p">()})</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.adverse_impact_ratio" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">adverse_impact_ratio</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">protected</span><span class="p">,</span> <span class="n">control</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes the ratio of positive predictions for the protected class and the
control class. The ideal ratio is 1. For example, in an underwriting context, this
means that the model is equally as likely to approve protected applicants as it is
unprotected applicants.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_pred</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>protected</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An array of booleans identifying the protected class</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>control</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An array of booleans identifying the control class</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Adverse Impact Ratio (AIR)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">adverse_impact_ratio</span><span class="p">(</span>
    <span class="n">y_pred</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">protected</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">control</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Computes the ratio of positive predictions for the protected class and the</span>
<span class="sd">    control class. The ideal ratio is 1. For example, in an underwriting context, this</span>
<span class="sd">    means that the model is equally as likely to approve protected applicants as it is</span>
<span class="sd">    unprotected applicants.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_pred : ArrayLike</span>
<span class="sd">        Predicted target</span>
<span class="sd">    protected : ArrayLike</span>
<span class="sd">        An array of booleans identifying the protected class</span>
<span class="sd">    control : ArrayLike</span>
<span class="sd">        An array of booleans identifying the control class</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        Adverse Impact Ratio (AIR)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_adverse_impact_ratio</span><span class="p">(</span>
        <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="p">{</span><span class="s2">&quot;y_pred&quot;</span><span class="p">:</span> <span class="n">y_pred</span><span class="p">,</span> <span class="s2">&quot;protected&quot;</span><span class="p">:</span> <span class="n">protected</span><span class="p">,</span> <span class="s2">&quot;control&quot;</span><span class="p">:</span> <span class="n">control</span><span class="p">}</span>
        <span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">Boolean</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.brier_loss" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">brier_loss</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes the Brier loss (smaller is better). The Brier loss measures the mean
squared difference between the predicted scores and the ground truth target.
Calculated as:</p>
<div class="arithmatex">\[ \frac{1}{N} \sum_{i=1}^N (yt_i - ys_i)^2 \]</div>
<p>where <span class="arithmatex">\( yt \)</span> is <code>y_true</code> and <span class="arithmatex">\( ys \)</span> is <code>y_score</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_score</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted scores</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Brier loss</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">brier_loss</span><span class="p">(</span><span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">y_score</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Computes the Brier loss (smaller is better). The Brier loss measures the mean</span>
<span class="sd">    squared difference between the predicted scores and the ground truth target.</span>
<span class="sd">    Calculated as:</span>

<span class="sd">    \[ \frac{1}{N} \sum_{i=1}^N (yt_i - ys_i)^2 \]</span>

<span class="sd">    where \( yt \) is `y_true` and \( ys \) is `y_score`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_score : ArrayLike</span>
<span class="sd">        Predicted scores</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        Brier loss</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">_y_true_y_score_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_brier_loss</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.confusion_matrix" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes the 25 confusion matrix metrics (TP, FP, TN, FN, TPR, F1, etc.). Please
see https://en.wikipedia.org/wiki/Confusion_matrix for a list of all confusion
matrix metrics and their formulas.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_pred</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rapidstats._metrics.ConfusionMatrix" href="#rapidstats._metrics.ConfusionMatrix">ConfusionMatrix</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dataclass of 25 confusion matrix metrics</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConfusionMatrix</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Computes the 25 confusion matrix metrics (TP, FP, TN, FN, TPR, F1, etc.). Please</span>
<span class="sd">    see https://en.wikipedia.org/wiki/Confusion_matrix for a list of all confusion</span>
<span class="sd">    matrix metrics and their formulas.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_pred : ArrayLike</span>
<span class="sd">        Predicted target</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ConfusionMatrix</span>
<span class="sd">        Dataclass of 25 confusion matrix metrics</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">_y_true_y_pred_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ConfusionMatrix</span><span class="p">(</span><span class="o">*</span><span class="n">_confusion_matrix</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.max_ks" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">max_ks</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Performs the two-sample Kolmogorov-Smirnov test on the predicted scores of the
ground truth positive and ground truth negative classes. The KS test measures the
highest distance between two CDFs, so the Max-KS metric measures how well the model
separates two classes. In pseucode:</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span>
<span class="n">class0</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">~</span><span class="n">y_true</span><span class="p">)[</span><span class="s2">&quot;y_score&quot;</span><span class="p">]</span>
<span class="n">class1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">y_true</span><span class="p">)[</span><span class="s2">&quot;y_score&quot;</span><span class="p">]</span>

<span class="n">ks</span><span class="p">(</span><span class="n">class0</span><span class="p">,</span> <span class="n">class1</span><span class="p">)</span>
</code></pre></div>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_score</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted scores</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Max-KS</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">max_ks</span><span class="p">(</span><span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">y_score</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Performs the two-sample Kolmogorov-Smirnov test on the predicted scores of the</span>
<span class="sd">    ground truth positive and ground truth negative classes. The KS test measures the</span>
<span class="sd">    highest distance between two CDFs, so the Max-KS metric measures how well the model</span>
<span class="sd">    separates two classes. In pseucode:</span>

<span class="sd">    ``` py</span>
<span class="sd">    df = Frame(y_true, y_score)</span>
<span class="sd">    class0 = df.filter(~y_true)[&quot;y_score&quot;]</span>
<span class="sd">    class1 = df.filter(y_true)[&quot;y_score&quot;]</span>

<span class="sd">    ks(class0, class1)</span>
<span class="sd">    ```</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_score : ArrayLike</span>
<span class="sd">        Predicted scores</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        Max-KS</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">_y_true_y_score_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_max_ks</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.mean" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">mean</span><span class="p">(</span><span class="n">y</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes the mean of the input array.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A 1D-array of numbers</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Mean</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="n">y</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Computes the mean of the input array.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y : ArrayLike</span>
<span class="sd">        A 1D-array of numbers</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        Mean</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_mean</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">y</span><span class="p">}))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.mean_squared_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes Mean Squared Error (MSE) as</p>
<div class="arithmatex">\[ \frac{1}{N} \sum_{i=1}^{N} (yt_i - ys_i)^2 \]</div>
<p>where <span class="arithmatex">\( yt \)</span> is <code>y_true</code> and <span class="arithmatex">\( ys \)</span> is <code>y_score</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_score</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted scores</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Mean Squared Error (MSE)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">y_score</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Computes Mean Squared Error (MSE) as</span>

<span class="sd">    \[ \frac{1}{N} \sum_{i=1}^{N} (yt_i - ys_i)^2 \]</span>

<span class="sd">    where \( yt \) is `y_true` and \( ys \) is `y_score`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_score : ArrayLike</span>
<span class="sd">        Predicted scores</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        Mean Squared Error (MSE)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_mean_squared_error</span><span class="p">(</span><span class="n">_regression_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.roc_auc" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">roc_auc</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes Area Under the Receiver Operating Characteristic Curve.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_score</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted scores</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>ROC-AUC</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">roc_auc</span><span class="p">(</span><span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">y_score</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Computes Area Under the Receiver Operating Characteristic Curve.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_score : ArrayLike</span>
<span class="sd">        Predicted scores</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        ROC-AUC</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">_y_true_y_score_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
        <span class="n">pl</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;y_true&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">cast</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">Float64</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">_roc_auc</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.root_mean_squared_error" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">root_mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Computes Root Mean Squared Error (RMSE) as</p>
<div class="arithmatex">\[ \sqrt{\frac{1}{N} \sum_{i=1}^{N} (yt_i - ys_i)^2} \]</div>
<p>where <span class="arithmatex">\( yt \)</span> is <code>y_true</code> and <span class="arithmatex">\( ys \)</span> is <code>y_score</code>.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_score</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted scores</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Root Mean Squared Error (RMSE)</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">root_mean_squared_error</span><span class="p">(</span><span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">y_score</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Computes Root Mean Squared Error (RMSE) as</span>

<span class="sd">    \[ \sqrt{\frac{1}{N} \sum_{i=1}^{N} (yt_i - ys_i)^2} \]</span>

<span class="sd">    where \( yt \) is `y_true` and \( ys \) is `y_score`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_score : ArrayLike</span>
<span class="sd">        Predicted scores</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    float</span>
<span class="sd">        Root Mean Squared Error (RMSE)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_root_mean_squared_error</span><span class="p">(</span><span class="n">_regression_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="rapidstats._metrics.threshold_for_bad_rate" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">threshold_for_bad_rate</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_prob_bad</span><span class="p">,</span> <span class="n">target_bad_rate</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>Finds the threshold that is the closest to achieving the target bad rate.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>y_true</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Ground truth target</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>y_prob_bad</code></td>
          <td>
                <code><span title="polars.series.series.ArrayLike">ArrayLike</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Predicted scores</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>target_bad_rate</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The target bad rate to achieve</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>tuple[float, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A tuple of threshold and bad rate at that threshold</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>python/rapidstats/_metrics.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">threshold_for_bad_rate</span><span class="p">(</span>
    <span class="n">y_true</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">y_prob_bad</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">target_bad_rate</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds the threshold that is the closest to achieving the target bad rate.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : ArrayLike</span>
<span class="sd">        Ground truth target</span>
<span class="sd">    y_prob_bad : ArrayLike</span>
<span class="sd">        Predicted scores</span>
<span class="sd">    target_bad_rate : float</span>
<span class="sd">        The target bad rate to achieve</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple[float, float]</span>
<span class="sd">        A tuple of threshold and bad rate at that threshold</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_threshold_for_bad_rate</span><span class="p">(</span>
        <span class="n">_y_true_y_score_to_df</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_prob_bad</span><span class="p">),</span>
        <span class="n">target_bad_rate</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["content.code.copy"], "search": "assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>